<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Å–æ–ª—å –∏ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: monospace;
        }
        body {
            background: #1e1e1e;
            color: #d4d4d4;
            height: 100vh;
            overflow: hidden;
        }
        .container {
            display: flex;
            height: 100%;
        }
        .panel {
            flex: 1;
            border: 1px solid #333;
            display: flex;
            flex-direction: column;
        }
        .header {
            background: #2d2d30;
            padding: 10px;
            border-bottom: 1px solid #3e3e42;
            font-weight: bold;
        }
        .console {
            background: #0e0e0e;
        }
        .console-output {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            white-space: pre-wrap;
            font-size: 14px;
        }
        .console-input {
            display: flex;
            border-top: 1px solid #333;
            background: #0e0e0e;
        }
        .prompt {
            padding: 10px;
            background: #2d2d30;
        }
        .console-input input {
            flex: 1;
            background: transparent;
            border: none;
            color: #d4d4d4;
            padding: 10px;
            font-size: 14px;
            outline: none;
        }
        .file-list {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }
        .file-item {
            padding: 8px;
            display: flex;
            align-items: center;
            cursor: pointer;
            border-radius: 3px;
        }
        .file-item:hover {
            background: #2a2d2e;
        }
        .file-item.selected {
            background: #37373d;
        }
        .file-icon {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        .context-menu {
            position: absolute;
            background: #2d2d30;
            border: 1px solid #3e3e42;
            display: none;
        }
        .context-item {
            padding: 8px 20px;
            cursor: pointer;
        }
        .context-item:hover {
            background: #3e3e42;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="panel console">
            <div class="header">–ö–û–ù–°–û–õ–¨</div>
            <div id="consoleOutput" class="console-output">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –í–≤–µ–¥–∏—Ç–µ "help" –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.</div>
            <div class="console-input">
                <div class="prompt">$</div>
                <input type="text" id="consoleInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É..." autofocus>
            </div>
        </div>
        <div class="panel">
            <div class="header">–§–ê–ô–õ–´</div>
            <div id="fileList" class="file-list"></div>
        </div>
    </div>
    <div id="contextMenu" class="context-menu">
        <div class="context-item" data-action="open">–û—Ç–∫—Ä—ã—Ç—å</div>
        <div class="context-item" data-action="rename">–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å</div>
        <div class="context-item" data-action="delete">–£–¥–∞–ª–∏—Ç—å</div>
    </div>

    <script>
        let files = [
            {name: 'index.html', type: 'file', size: '1.2KB'},
            {name: 'style.css', type: 'file', size: '0.8KB'},
            {name: 'script.js', type: 'file', size: '2.1KB'},
            {name: 'documents', type: 'folder', size: '4KB'},
            {name: 'images', type: 'folder', size: '12KB'},
            {name: 'README.md', type: 'file', size: '0.5KB'}
        ];
        let selectedFile = null;
        const consoleOutput = document.getElementById('consoleOutput');
        const consoleInput = document.getElementById('consoleInput');
        const fileList = document.getElementById('fileList');
        const contextMenu = document.getElementById('contextMenu');
        
        function renderFiles() {
            fileList.innerHTML = '';
            files.forEach(file => {
                const div = document.createElement('div');
                div.className = 'file-item';
                div.dataset.name = file.name;
                div.innerHTML = `
                    <div class="file-icon">${file.type === 'folder' ? 'üìÅ' : 'üìÑ'}</div>
                    <div style="flex:1">${file.name}</div>
                    <div>${file.size}</div>
                `;
                div.addEventListener('click', () => selectFile(file.name));
                div.addEventListener('contextmenu', (e) => showContextMenu(e, file.name));
                fileList.appendChild(div);
            });
        }
        
        function selectFile(name) {
            document.querySelectorAll('.file-item').forEach(el => {
                el.classList.remove('selected');
                if(el.dataset.name === name) {
                    el.classList.add('selected');
                    selectedFile = name;
                }
            });
        }
        
        function showContextMenu(e, filename) {
            e.preventDefault();
            selectFile(filename);
            contextMenu.style.display = 'block';
            contextMenu.style.left = e.pageX + 'px';
            contextMenu.style.top = e.pageY + 'px';
        }
        
        document.addEventListener('click', () => {
            contextMenu.style.display = 'none';
        });
        
        contextMenu.addEventListener('click', (e) => {
            const action = e.target.dataset.action;
            if(!action || !selectedFile) return;
            
            if(action === 'delete') {
                files = files.filter(f => f.name !== selectedFile);
                renderFiles();
                addToConsole(`–£–¥–∞–ª–µ–Ω —Ñ–∞–π–ª: ${selectedFile}`);
            } else if(action === 'rename') {
                const newName = prompt('–ù–æ–≤–æ–µ –∏–º—è:', selectedFile);
                if(newName) {
                    files.forEach(f => {
                        if(f.name === selectedFile) f.name = newName;
                    });
                    renderFiles();
                    addToConsole(`–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω: ${selectedFile} ‚Üí ${newName}`);
                }
            } else if(action === 'open') {
                addToConsole(`–û—Ç–∫—Ä—ã—Ç —Ñ–∞–π–ª: ${selectedFile}`);
            }
        });
        
        function addToConsole(text) {
            consoleOutput.innerHTML += `\n${text}`;
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }
        
        function processCommand(cmd) {
            const args = cmd.trim().split(' ');
            const command = args[0].toLowerCase();
            
            switch(command) {
                case 'help':
                    addToConsole('–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: ls, clear, date, echo, help');
                    break;
                case 'ls':
                    addToConsole('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:');
                    files.forEach(f => addToConsole(`${f.type === 'folder' ? 'üìÅ' : 'üìÑ'} ${f.name}`));
                    break;
                case 'clear':
                    consoleOutput.innerHTML = '';
                    break;
                case 'date':
                    addToConsole(new Date().toLocaleString());
                    break;
                case 'echo':
                    addToConsole(args.slice(1).join(' '));
                    break;
                default:
                    addToConsole(`–ö–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: ${command}. –í–≤–µ–¥–∏—Ç–µ "help" –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏.`);
            }
        }
        
        consoleInput.addEventListener('keyup', (e) => {
            if(e.key === 'Enter') {
                const cmd = consoleInput.value;
                addToConsole('$ ' + cmd);
                processCommand(cmd);
                consoleInput.value = '';
            }
        });
        
        renderFiles();
    </script>
</body>
</html>